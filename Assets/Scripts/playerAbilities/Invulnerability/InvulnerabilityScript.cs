using System.Collections;
using System.Collections.Generic;
using UnityEngine;

[CreateAssetMenu(fileName = "Invulnerability", menuName = "ScriptableObjects/Invulnerability", order = 1)]
public class InvulnerabilityScript : Abilities
{
	public float duration = 0.5f;
	public override bool CastSpell(GameObject player, Transform firePoint){
		PlayerStats ps = player.GetComponent<PlayerStats>();
		if (ps.invulnerable) return false;
		if (!base.CastSpell(player, firePoint)) return false;
		ps.invulnerable = true;
		ps.StartCoroutine(removeInvulnerability(ps));
		return true;
    }

    IEnumerator removeInvulnerability(PlayerStats ps)
    {
    	yield return new WaitForSeconds(duration);
    	ps.invulnerable = false;
    }
}